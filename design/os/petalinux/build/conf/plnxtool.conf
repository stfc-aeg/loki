
#Add Pre-mirrors of tool
SOURCE_MIRROR_URL = "file:///aeg_sw/tools/CentOS7-x86_64/xilinx/2019.2/petalinux/components/yocto/downloads/"

#Add Pre-mirrors from petalinux-config
PREMIRRORS = " git://.*/.* http://petalinux.xilinx.com/sswreleases/rel-v2019/downloads \n \
ftp://.*/.* http://petalinux.xilinx.com/sswreleases/rel-v2019/downloads \n \
http://.*/.* http://petalinux.xilinx.com/sswreleases/rel-v2019/downloads \n \
https://.*/.* http://petalinux.xilinx.com/sswreleases/rel-v2019/downloads \n"


#Sttate mirror settings
SSTATE_MIRRORS = "file://universal/(.*) file:///aeg_sw/tools/CentOS7-x86_64/xilinx/2019.2/petalinux/components/yocto/source/aarch64/sstate-cache/universal-4.8/\1\n"
SSTATE_MIRRORS .= "\nfile://.* file:///aeg_sw/tools/CentOS7-x86_64/xilinx/2019.2/petalinux/components/yocto/source/aarch64/sstate-cache/PATH\n"
SSTATE_MIRRORS_append = "  \
file://.* http://petalinux.xilinx.com/sswreleases/rel-v2019/aarch64/sstate-cache/PATH;downloadfilename=PATH \n \
"

SIGGEN_UNLOCKED_RECIPES += "arm-trusted-firmware busybox init-ifupdown python3"
UNINATIVE_DLDIR = "/aeg_sw/tools/CentOS7-x86_64/xilinx/2019.2/petalinux/components/yocto/source/aarch64/downloads/uninative"



MACHINE = "plnx-zynqmp"
PACKAGE_CLASSES = "package_rpm"
DL_DIR = "${TOPDIR}/downloads"
SSTATE_DIR = "${TOPDIR}/sstate-cache"
XILINX_SDK_TOOLCHAIN = "/aeg_sw/tools/CentOS7-x86_64/xilinx/2019.2/petalinux/tools/xsct"
USE_XSCT_TARBALL = "0"
IMAGE_LINGUAS = " "
TMPDIR = "/u/ucm28261/develop/projects/cfi-daq/cfi-daq/trenz-test-2/StarterKit/os/petalinux/build/tmp"
hostname_pn-base-files = "petalinux"
PETALINUX_PRODUCT_pn-base-files = "petalinux"
PETALINUX_VERSION_pn-base-files = "1.00"









# Add system HDF/DSA
HDF_EXT_forcevariable = "xsa"
HDF_BASE_forcevariable = "file://"
HDF_PATH_forcevariable = "/aeg_sw/work/users/ucm28261/develop/projects/cfi-daq/trenz-test-2/StarterKit/os/petalinux/project-spec/hw-description/system.xsa"

#Add FIT Variables
KERNEL_CLASSES += "kernel-fitimage"
KERNEL_IMAGETYPES += "fitImage vmlinux"
UBOOT_ENTRYPOINT  = "0x80000"
UBOOT_LOADADDRESS = "0x80000"

EXTRA_IMAGEDEPENDS_remove = ""
UBOOT_MACHINE_forcevariable = "xilinx_zynqmp_zcu102_rev1_0_defconfig"
HAS_PLATFORM_INIT_append += "xilinx_zynqmp_zcu102_rev1_0_defconfig"
YAML_DT_BOARD_FLAGS_forcevariable = "{BOARD template}"

IMAGE_FSTYPES_forcevariable = "cpio cpio.gz cpio.gz.u-boot tar.gz jffs2"

INITRAMFS_IMAGE_BUNDLE = "1"
INITRAMFS_IMAGE = "petalinux-user-image"
INITRAMFS_MAXSIZE = "524288"

SERIAL_CONSOLE_forcevariable = "115200 ttyPS0"
SOC_VARIANT = "eg"
